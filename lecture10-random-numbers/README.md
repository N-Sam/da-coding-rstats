# Lecture 10: Random Numbers and Random Sampling

## Motivation

While dealing with data, the use of random numbers is essential to understanding modern data analytics. In many cases, you will not use them directly, but many advanced models (e.g. Machine Learning techniques) use them. A general understanding how these methods work, and what are the limitations is beneficial. Some examples of random number usage:

  - get a random (sub)-sample (e.g. cross-validation techniques)
  - bootstrapping (e.g. calculate standard errors)
  - estimating models (e.g. random forest, Markov-Chain-Monte-Carlo or (quasi) maximum-likelihood methods)
  - ‘stochastic’ optimization methods (e.g. genetic algorithms)

We cover the main properties of random number generators and how to use them for reproducible results.

## This lecture

This lecture introduces students to how to generate random numbers and deal with random sampling in R.

Relates to case studies:
  - [Chapter 03, D: Distributions of body height and income](https://gabors-data-analysis.com/casestudies/#ch03d-distributions-of-body-height-and-income) to show random numbers generated from theoretical distributions vs empirical distributions. 
  - [Chapter 05, A: What likelihood of loss to expect on a stock portfolio?](https://gabors-data-analysis.com/casestudies/#ch05a-what-likelihood-of-loss-to-expect-on-a-stock-portfolio) to show random sampling.


## Learning outcomes
After successfully live-coding the material (see: [`random_numbers.md`](https://github.com/gabors-data-analysis/da-coding-rstats/blob/main/lecture10-random-numbers/random_numbers.md)), students will have knowledge on

- When and why random numbers are used in R
- Different `distributions` and their properties available in R
  - Specifically get familiar with `runif`, `rnorm`, and `rlnorm`
- How to control for randomness via `set.seed`
- How the number of observations generated by `rnorm` is associated with the theoretical normal distribution
- How random sampling works:
  - `sample_n` function
  - other alternatives such as `slice_sample`, `sample` and `sample.int` 

## Datasets used

- [height-income-distributions](https://gabors-data-analysis.com/datasets/#height-income-distributions)
- [sp500](https://gabors-data-analysis.com/datasets/#sp500)

## Lecture Time

Ideal overall time: **10-20 mins**.

This is a relatively short lecture with a little coding, but much background knowledge is needed on how random number generation works.
If want to shorten the lecture skip exercise with height and income distributions.

## Homework

*Type*: quick practice, approx 15 mins, together with [lecture08-conditionals](https://github.com/gabors-data-analysis/da-coding-rstats/edit/main/lecture08-conditionals), [lecture09-loops](https://github.com/gabors-data-analysis/da-coding-rstats/edit/main/lecture09-loops), and [lecture11-functions](https://github.com/gabors-data-analysis/da-coding-rstats/edit/main/lecture11-functions)

Check the common homework [here](https://github.com/gabors-data-analysis/da-coding-rstats/blob/main/lecture11-functions/README.md).

## Further material

  - Jae Yeon Kim: R Fundamentals for Public Policy, Course material, [Lecture 10](https://github.com/KDIS-DSPPM/r-fundamentals/blob/main/lecture_notes/10_functional_programming.Rmd) touch the topic, but not too deeply.
  - There are some useful bookdown material by [Ko Chiu Yu: Techincal Analysis with R, Chapter 4.2](https://bookdown.org/kochiuyu/Technical-Analysis-with-R/random-number.html) and [Nathaniel D. Phillips: YaRrr! The Pirate’s Guide to R, Chapter 5.3](https://bookdown.org/ndphillips/YaRrr/generating-random-data.html)


## File structure
  
  - [`random_numbers.md`](https://github.com/gabors-data-analysis/da-coding-rstats/blob/main/lecture10-random-numbers/random_numbers.md) provides material for the live coding session with explanations.
  - [`random_numbers.Rmd`](https://github.com/gabors-data-analysis/da-coding-rstats/blob/main/lecture10-random-numbers/random_numbers.Rmd) is the generating Rmarkdown file for `random_numbers.md`
  - [`random_numbers.R`](https://github.com/gabors-data-analysis/da-coding-rstats/blob/main/lecture10-random-numbers/random_numbers.R) is a possible realization of the live coding session
